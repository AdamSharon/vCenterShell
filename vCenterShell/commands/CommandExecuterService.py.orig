<<<<<<< HEAD
﻿from pyVim.connect import SmartConnect, Disconnect
from commands.DeployFromTemplateCommand import *
from commands.DestroyVirtualMachineCommand import DestroyVirtualMachineCommand
from pycommon.CloudshellDataRetrieverService import CloudshellDataRetrieverService
from pycommon.ResourceConnectionDetailsRetriever import ResourceConnectionDetailsRetriever
from pycommon.pyVmomiService import *
=======
﻿from vCenterShell.pycommon.ResourceConnectionDetailsRetriever import ResourceConnectionDetailsRetriever
from vCenterShell.commands.DeployFromTemplateCommand import *
from vCenterShell.commands.destroyVirtualMachineCommand import *
>>>>>>> develop


class CommandExecuterService(object):
    """ main class that publishes all available commands """

<<<<<<< HEAD
    def __init__(self):
        self.pyVmomiService = pyVmomiService(SmartConnect, Disconnect)
        self.cs_data_retriever_service = CloudshellDataRetrieverService()
        self.resource_connection_details_retriever = ResourceConnectionDetailsRetriever(self.cs_data_retriever_service)

    def deploy(self):
        DeployFromTemplateCommand(
                self.pyVmomiService,
                self.cs_data_retriever_service,
                self.resource_connection_details_retriever) \
            .execute()

    def destroy(self):        
        DestroyVirtualMachineCommand(
                self.pyVmomiService,
                self.cs_data_retriever_service,
                self.resource_connection_details_retriever) \
=======
    def __init__(self, py_vmomi_service, network_adapter_retriever_command):
        """
        :param py_vmomi_service:  PyVmomi service
        :param network_adapter_retriever_command:  Network adapter retriever command
        """
        self.pyVmomiService = py_vmomi_service
        self.networkAdapterRetrieverCommand = network_adapter_retriever_command

    def deploy(self):
        csDataRetrieverService = CloudshellDataRetrieverService()
        DeployFromTemplateCommand(self.pyVmomiService, csDataRetrieverService,
                                  ResourceConnectionDetailsRetriever(csDataRetrieverService)) \
            .execute()

    def destroy(self):
        DestroyVirtualMachineCommand(self.pyVmomiService) \
>>>>>>> develop
            .execute()

    def connect(self):
        self.networkAdapterRetrieverCommand.execute()
